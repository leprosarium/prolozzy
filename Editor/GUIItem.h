//////////////////////////////////////////////////////////////////////////////////////////////////
// GUIItem.h
//////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef __GUIITEM_H__
#define __GUIITEM_H__

#include "GUIUtil.h"
#include <map>

class cGUIDlg;

//////////////////////////////////////////////////////////////////////////////////////////////////
// cGUIItem
// Obs:
// 1. uses COLOR1=backgr, COLOR2=gradient, COLOR3=border
//////////////////////////////////////////////////////////////////////////////////////////////////

class cGUIItem
{
public:
	std::string id;
	int style;
	bool hidden;
	bool disable;
	iRect rect;
	std::string txt;
	int txtAlign;
	dword txtColor;
	int txtOffset;
	dword color[4];
	int img0;
	int img1;
	dword imgColor;
	int imgAlign;
	int mode;
	std::string cmdAction;
	int value;
	int group;
	std::string tooltip;
	cGUIDlg * m_dlg;
	bool m_mousein;

	cGUIItem(cGUIDlg *d);
	virtual ~cGUIItem();

	virtual	void OnUpdate();
	virtual	void OnDraw();
	virtual void OnAction() {};

	iRect scrRect() const;
	void Capture(bool on);
	bool IsCaptured() const;
	void Action(int param);
	void Update();
	void Draw() { if(!hidden) OnDraw(); }
	void Select();					// select item & dlg as last
};


//////////////////////////////////////////////////////////////////////////////////////////////////
// cGUITitle
// uses IV_VALUE for movable
//////////////////////////////////////////////////////////////////////////////////////////////////
class cGUITitle : public cGUIItem
{
	iV2 move;
public:
	cGUITitle(cGUIDlg *d);
	virtual void OnUpdate();
};


#endif
//////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////
